# Stillwater Orchestration — Triple Twin Convention
# This is the DEFAULT configuration (Convention Over Configuration)
# Users override in data/custom/orchestration.yaml if needed
# Philosophy: 80% convention, 20% configuration (Rails style)

orchestration:
  version: "1.0.0"
  name: "Triple Twin"
  description: "Explorer (scout) → Builder (coder) → Arbiter (skeptic) orchestration"
  philosophy: "Convention over Configuration - works out of the box"
  
  twins:
    explorer:
      role: "scout"
      model: "haiku"
      persona: "Ken Thompson"
      responsibility: "Research, exploration, discovery, problem analysis"
      strengths: ["pattern_recognition", "breadth_search", "web_research", "file_navigation"]
      tools: ["web_search", "grep", "glob", "read_files"]
      rung_target: 641
      
    builder:
      role: "coder"
      model: "sonnet"
      persona: "Donald Knuth"
      responsibility: "Implementation, coding, feature development, bugfixes"
      strengths: ["code_quality", "testing", "refactoring", "implementation"]
      tools: ["file_edit", "bash", "test_run", "git_operations"]
      rung_target: 641
      
    arbiter:
      role: "skeptic"
      model: "sonnet"
      persona: "Alan Turing"
      responsibility: "Verification, review, conflict resolution, quality gate"
      strengths: ["logical_analysis", "edge_case_detection", "security_review", "decision_making"]
      tools: ["analysis", "comparison", "quality_check", "audit"]
      rung_target: 274177
  
  workflow:
    description: "How the Triple Twin orchestration works"
    steps:
      - number: 1
        name: "Explorer Phase"
        twin: "explorer"
        task: "Research requirements, identify patterns, explore solution space"
        output: "Research findings, architecture proposal"
      
      - number: 2
        name: "Builder Phase"
        twin: "builder"
        task: "Implement based on explorer findings, write tests, refactor"
        output: "Code, tests, documentation"
      
      - number: 3
        name: "Arbiter Phase"
        twin: "arbiter"
        task: "Verify correctness, review quality, test edge cases"
        output: "Verification report, rung achievement"
      
      - number: 4
        name: "Conflict Resolution"
        condition: "If twins disagree"
        rule: "Arbiter (rung 274177) wins on technical decisions"
        rule2: "Explorer can re-research if arbiter rejects"
        rule3: "Builder must accept arbiter's quality gates"
  
  communication:
    explorer_to_builder: "Research findings → implementation plan"
    builder_to_arbiter: "Code + tests → verification request"
    arbiter_to_builder: "Feedback → fixes + improvements"
    arbiter_to_explorer: "Edge cases → re-research request"
  
  priorities:
    - "Safety always first (prime-safety skill governs all decisions)"
    - "Correctness over speed (Rung 641 local correctness required)"
    - "Evidence over hopes (tests, not promises)"
    - "Verification ladder: 641 → 274177 → 65537"
    - "Reproducibility (same input → same output always)"
  
  success_criteria:
    rung_641: "Local correctness, tests pass, no regressions"
    rung_274177: "Stability across edge cases, stress testing passed"
    rung_65537: "Production ready, security audit passed, evidence complete"
