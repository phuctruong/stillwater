{
  "id": "recipe.gmail-read-inbox",
  "version": "1.0.0",
  "type": "gmail-automation",
  "authority": 65537,
  "description": "Read and extract inbox emails for CPU-first triage (from primewiki-gmail-automation-100)",
  "source": "solace-browser:primewiki/gmail/gmail-automation-100.primewiki.md",
  "confidence": 0.97,
  "test_evidence": "2813 live inbox emails extracted successfully",
  "steps": [
    {
      "name": "navigate_inbox",
      "action": "navigate",
      "url": "https://mail.google.com/mail/u/0/#inbox",
      "wait_until": "networkidle",
      "description": "Navigate to Gmail inbox"
    },
    {
      "name": "extract_email_rows",
      "action": "extract",
      "selector": "[role='row']",
      "confidence": 0.97,
      "max_rows": 50,
      "description": "Extract visible email rows (50 per page)"
    },
    {
      "name": "parse_email_metadata",
      "action": "extract_fields",
      "for_each_row": {
        "subject": {
          "selector": "[role='heading']",
          "confidence": 0.96,
          "type": "text"
        },
        "sender": {
          "selector": "[email]",
          "confidence": 0.95,
          "type": "text"
        },
        "sender_name": {
          "selector": "[role='row'] span",
          "confidence": 0.90,
          "type": "text",
          "note": "Extract first span which is usually sender name"
        },
        "timestamp": {
          "selector": "[role='row'] [data-timestamp]",
          "confidence": 0.92,
          "type": "attribute",
          "attribute": "data-timestamp"
        },
        "unread": {
          "selector": "[role='row'] [aria-label*='Unread']",
          "confidence": 0.94,
          "type": "presence"
        },
        "starred": {
          "selector": "[role='row'] [aria-label*='Starred']",
          "confidence": 0.93,
          "type": "presence"
        },
        "has_attachment": {
          "selector": "[role='row'] [aria-label*='Attachment']",
          "confidence": 0.92,
          "type": "presence"
        }
      },
      "description": "Parse all metadata fields from each email row"
    },
    {
      "name": "handle_pagination",
      "action": "paginate",
      "strategy": "scroll_or_next_button",
      "description": "Load more emails if needed (scroll or click next page)"
    }
  ],
  "outputs": {
    "emails": "array of email objects",
    "total_count": "integer",
    "unread_count": "integer",
    "starred_count": "integer",
    "extraction_time_ms": "integer",
    "part11_event": "hash (SHA256)"
  },
  "cpu_first_usage": {
    "purpose": "Provide structured data for email-triage CPU-first classification",
    "next_step": "Apply keywords (urgent/work/promo/spam) to classify without LLM",
    "token_savings": "2813 emails Ã— 50 tokens = 140K tokens saved vs LLM-first",
    "confidence_threshold": 0.80,
    "escalate_to_llm": "Only classify <80% confidence cases to haiku validator"
  },
  "rung": 641,
  "cost_tokens": 0,
  "cost_usd": 0,
  "note": "CPU-first recipe. Zero LLM calls. Provides ARIA-extracted structured data for downstream processing. Selectors from verified primewiki with 0.92-0.97 confidence."
}
